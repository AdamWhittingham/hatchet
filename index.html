<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Hatchet by gshutler</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Hatchet</h1>
        <p>Ruby logging library that provides the ability to add class/module specific filters</p>

        <p class="view"><a href="https://github.com/gshutler/hatchet">View the Project on GitHub <small>gshutler/hatchet</small></a></p>


        <ul>
          <li><a href="https://github.com/gshutler/hatchet/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/gshutler/hatchet/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/gshutler/hatchet">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h2>Installation</h2>

<p>Add this line to your application's Gemfile:</p>

<div class="highlight">
<pre><span class="n">gem</span> <span class="s1">'hatchet'</span>
</pre>
</div>


<p>And then execute:</p>

<pre><code>$ bundle
</code></pre>

<p>Or install it yourself as:</p>

<pre><code>$ gem install hatchet
</code></pre>

<h2>Usage</h2>

<h3>Logging</h3>

<p>To use the logger you must add it to your classes as a mixin or use it to extend
your modules. Then you can call the logger through the methods <code>log</code> and
<code>logger</code>. They are aliases for the same method to ease migration.</p>

<div class="highlight">
<pre><span class="k">class</span> <span class="nc">Foo</span>
  <span class="kp">include</span> <span class="no">Hatchet</span>

  <span class="k">def</span> <span class="nf">work</span>
    <span class="n">log</span><span class="o">.</span><span class="n">info</span> <span class="p">{</span> <span class="s1">'Doing some work'</span> <span class="p">}</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="k">module</span> <span class="nn">Bar</span>
  <span class="kp">extend</span> <span class="no">Hatchet</span>

  <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">work</span>
    <span class="n">log</span><span class="o">.</span><span class="n">info</span> <span class="p">{</span> <span class="s1">'Doing some work'</span> <span class="p">}</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre>
</div>


<h3>Configuration</h3>

<h4>Standard</h4>

<div class="highlight">
<pre><span class="no">Hatchet</span><span class="o">.</span><span class="n">configure</span> <span class="k">do</span> <span class="o">|</span><span class="n">config</span><span class="o">|</span>
  <span class="c1"># Set the level to use unless overridden (defaults to :info)</span>
  <span class="n">config</span><span class="o">.</span><span class="n">level</span> <span class="ss">:info</span>
  <span class="c1"># Set the level for a specific class/module and its children (can be a string)</span>
  <span class="n">config</span><span class="o">.</span><span class="n">level</span> <span class="ss">:debug</span><span class="p">,</span> <span class="no">Namespace</span><span class="o">::</span><span class="no">Something</span><span class="o">::</span><span class="no">Nested</span>

  <span class="c1"># Add as many appenders as you like, Hatchet comes with one that formats the</span>
  <span class="c1"># standard logger in the TTCC style of log4j.</span>
  <span class="n">config</span><span class="o">.</span><span class="n">appenders</span> <span class="o">&lt;&lt;</span> <span class="no">Hatchet</span><span class="o">::</span><span class="no">LoggerAppender</span><span class="o">.</span><span class="n">new</span> <span class="k">do</span> <span class="o">|</span><span class="n">appender</span><span class="o">|</span>
    <span class="c1"># Set the logger that this is wrapping (required)</span>
    <span class="n">appender</span><span class="o">.</span><span class="n">logger</span> <span class="o">=</span> <span class="no">Logger</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s1">'log/test.log'</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre>
</div>


<h4>Sinatra</h4>

<p>Use the standard configuration method but also register Hatchet as a helper
where appropriate:</p>

<div class="highlight">
<pre><span class="n">register</span> <span class="no">Hatchet</span>
</pre>
</div>


<h4>Rails</h4>

<p>Hatchet includes a Railtie that is loaded automatically and wraps the
<code>Rails.logger</code>. The Hatchet configuration object is available through
<code>config.hatchet</code> within your standard configuration files for fine-tuning your
Hatchet configuration.</p>

<p>To make it so your log calls are scoped to your controllers you also need to add
Hatchet to your <code>ApplicationController</code>:</p>

<div class="highlight">
<pre><span class="k">class</span> <span class="nc">ApplicationController</span> <span class="o">&lt;</span> <span class="no">ActionController</span><span class="o">::</span><span class="no">Base</span>
  <span class="kp">include</span> <span class="no">Hatchet</span>
<span class="k">end</span>
</pre>
</div>


<p>You could include it in your models so that each of those has its own logging
context too.</p>

<h2>Contributing</h2>

<ol>
<li>Fork it</li>
<li>Create your feature branch (<code>git checkout -b my-new-feature</code>)</li>
<li>Commit your changes (<code>git commit -am 'Add some feature'</code>)</li>
<li>Push to the branch (<code>git push origin my-new-feature</code>)</li>
<li>Create new Pull Request</li>
</ol><p>All pull requests should come complete with tests when appropriate and should
follow the existing style which is best described in
<a href="https://github.com/styleguide/ruby/">Github's Ruby style guide</a>.</p>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/gshutler">gshutler</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>